<div class="dropdown-container relative inline-block" [class.w-full]="fullWidth">
  <button 
    [ngClass]="buttonClasses"
    (click)="toggleDropdown($event)"
    [disabled]="disabled"
    type="button"
  >
    <ng-content></ng-content>
    <svg 
      xmlns="http://www.w3.org/2000/svg" 
      class="h-4 w-4 ml-2 transition-transform duration-200"
      [class.rotate-180]="isOpen"
      fill="none" 
      viewBox="0 0 24 24" 
      stroke="currentColor"
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </button>

  <div 
    *ngIf="isOpen"
    [ngClass]="menuClasses"
    class="dropdown-menu"
  >
    <ng-container *ngFor="let item of items">
      <div 
        *ngIf="item.divider" 
        class="h-px bg-gray-200 my-1"
      ></div>
      <button
        *ngIf="!item.divider"
        (click)="selectItem(item)"
        [disabled]="item.disabled"
        class="w-full px-4 py-2 text-left text-sm hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"
      >
        <img 
          *ngIf="item.icon?.endsWith('.svg')" 
          [src]="item.icon" 
          class="h-4 w-4 mr-2" 
          alt=""
        />
        <i 
          *ngIf="item.icon && !item.icon.endsWith('.svg')" 
          [class]="item.icon + ' mr-2'"
        ></i>
        {{ item.label }}
      </button>
    </ng-container>
  </div>
</div> 